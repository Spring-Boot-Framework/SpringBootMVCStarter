<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity4"
	layout:decorator="layout/main">
<head lang="pl">
</head>
<body>
	<div layout:fragment="content">
		<div class="row">
			<div class="col-xs-12">
				<h1 th:text="|#{users.edit.title} ${user.username}|"
					class="text-primary"></h1>
			</div>
		</div>


		<form th:action="@{/users/save}" method="post" th:object="${userEditForm}">
		<input type="text" th:field="${userEditForm.username}"></input>
		<input type="text" th:field="${userEditForm.name}"></input>
		<input type="text" th:field="${userEditForm.email}"></input>
		
			<div class="row margin-top-10">
				<div class="col-xs-12 col-sm-3 margin-top-10">
					<img th:src="@{'/useravatar/' + ${user.id}}"
						class="img-responsive img-rounded"></img>

				</div>
				<div class="col-xs-12 col-sm-9">
					<div class="row">
						<div class="col-xs-4 margin-top-10">
							<span th:text="#{user.name}"></span>
						</div>
						<div class="col-xs-4 margin-top-10">
							<span th:text="${user.name}"></span>
						</div>
					</div>
					<div class="row">
						<div class="col-xs-4 margin-top-10">
							<span th:text="#{user.email}"></span>
						</div>
						<div class="col-xs-4 margin-top-10">
							<a data-toggle="tooltip" data-placement="top"
								th:title="#{action.send}" th:href="|mailto:${user.email}|"><span
								th:text="${user.email}"></span> </a>
						</div>
					</div>
					<div class="row">
						<div class="col-xs-4 margin-top-10">
							<span th:text="#{user.roles}"></span>
						</div>
						<div class="col-xs-4 margin-top-10">
							<span style="display: inline;" th:each="role : ${user.roles}">
								<span th:text="${role.name}"
								th:class="${role.name == 'ROLE_ADMIN'}? 'btn btn-danger btn-xs' : 'btn btn-info btn-xs'"></span>
							</span>
						</div>
					</div>
					<div class="row">
						<div class="col-xs-4 margin-top-10">
							<span th:text="#{user.active}"></span>
						</div>
						<div class="col-xs-4 margin-top-10">
							<span
								th:class="${user.active}==true? 'glyphicon glyphicon-ok' : 'glyphicon glyphicon-remove'"></span>
						</div>
					</div>
					<div class="row">
						<div class="col-xs-4 margin-top-10">
							<span th:text="#{user.id}"></span>
						</div>
						<div class="col-xs-4 margin-top-10">
							<span th:text="|#${user.id}|"></span>
						</div>
					</div>
				</div>
			</div>
			<div class="row margin-top-30">
				<div class="col-xs-12">
					<a th:href="@{/users/list/active}" class="btn btn-link btn-sm">
						<span class="glyphicon glyphicon-edit"></span> <span
						th:text="#{action.back}">edit</span>
					</a>
			
					 <a th:href="|@{/users/show/}${user.id}|"
						class="btn btn-warning btn-sm"> <span
						class="glyphicon glyphicon-user"></span> <span
						th:text="#{action.show}">show</span>
					</a>
								<a th:href="|@{/users/changepassword/}${user.id}|"
						class="btn btn-info btn-sm"> <span
						class="glyphicon glyphicon-alert"></span> <span
						th:text="#{users.change.password}">change password</span>
					</a>
					<button class="btn btn-primary btn-sm" type="submit" name="save">
						<span class="glyphicon glyphicon-save"></span> <span
							th:text="#{action.save}">save</span>
					</button>
				</div>
			</div>
		</form>
	</div>
</body>
</html>